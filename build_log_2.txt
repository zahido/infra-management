#1 [internal] load local bake definitions
#1 reading from stdin 1.11kB done
#1 DONE 0.0s

#2 [frontend internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.30kB 0.0s done
#2 DONE 0.0s

#3 [backend internal] load build definition from Dockerfile
#3 transferring dockerfile: 431B done
#3 DONE 0.0s

#4 [backend internal] load metadata for docker.io/library/golang:1.24-alpine
#4 ...

#5 [backend internal] load metadata for docker.io/library/alpine:latest
#5 DONE 0.9s

#4 [backend internal] load metadata for docker.io/library/golang:1.24-alpine
#4 DONE 0.9s

#6 [backend internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [frontend internal] load metadata for docker.io/library/node:18-alpine
#7 DONE 1.0s

#8 [backend internal] load build context
#8 DONE 0.0s

#9 [frontend internal] load .dockerignore
#9 transferring context: 2B done
#9 DONE 0.0s

#10 [backend builder 1/6] FROM docker.io/library/golang:1.24-alpine@sha256:8bee1901f1e530bfb4a7850aa7a479d17ae3a18beb6e09064ed54cfd245b7191
#10 resolve docker.io/library/golang:1.24-alpine@sha256:8bee1901f1e530bfb4a7850aa7a479d17ae3a18beb6e09064ed54cfd245b7191
#10 resolve docker.io/library/golang:1.24-alpine@sha256:8bee1901f1e530bfb4a7850aa7a479d17ae3a18beb6e09064ed54cfd245b7191 0.1s done
#10 DONE 0.1s

#11 [backend stage-1 1/4] FROM docker.io/library/alpine:latest@sha256:25109184c71bdad752c8312a8623239686a9a2071e8825f20acb8f2198c3f659
#11 resolve docker.io/library/alpine:latest@sha256:25109184c71bdad752c8312a8623239686a9a2071e8825f20acb8f2198c3f659 0.1s done
#11 DONE 0.1s

#12 [backend stage-1 2/4] RUN apk --no-cache add ca-certificates
#12 CACHED

#13 [backend stage-1 3/4] WORKDIR /root/
#13 CACHED

#14 [frontend base 1/1] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
#14 resolve docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e 0.1s done
#14 DONE 0.1s

#8 [backend internal] load build context
#8 transferring context: 616B done
#8 DONE 0.0s

#15 [frontend builder 1/4] WORKDIR /app
#15 CACHED

#16 [frontend runner 2/8] RUN addgroup --system --gid 1001 nodejs
#16 CACHED

#17 [frontend runner 3/8] RUN adduser --system --uid 1001 nextjs
#17 CACHED

#18 [backend builder 3/6] COPY go.mod go.sum ./
#18 CACHED

#19 [backend builder 2/6] WORKDIR /app
#19 CACHED

#20 [backend builder 4/6] RUN go mod download
#20 CACHED

#21 [backend builder 5/6] COPY . .
#21 CACHED

#22 [frontend internal] load build context
#22 transferring context: 850B done
#22 DONE 0.0s

#23 [frontend deps 4/4] RUN   if [ -f yarn.lock ]; then yarn --frozen-lockfile;   elif [ -f package-lock.json ]; then npm ci;   elif [ -f pnpm-lock.yaml ]; then yarn global add pnpm && pnpm i --frozen-lockfile;   else echo "Lockfile not found." && exit 1;   fi
#23 CACHED

#24 [frontend deps 1/4] RUN apk add --no-cache libc6-compat
#24 CACHED

#25 [frontend builder 3/4] COPY . .
#25 CACHED

#26 [frontend deps 2/4] WORKDIR /app
#26 CACHED

#27 [frontend deps 3/4] COPY package.json yarn.lock* package-lock.json* pnpm-lock.yaml* ./
#27 CACHED

#28 [frontend builder 2/4] COPY --from=deps /app/node_modules ./node_modules
#28 CACHED

#29 [frontend builder 4/4] RUN yarn build
#29 CACHED

#30 [frontend runner 4/8] COPY --from=builder /app/public ./public
#30 ERROR: failed to calculate checksum of ref g6xu96hvph0c3sptnt8h1txu3::6ywwoaue2npbwg4f5nlmy3y7u: "/app/public": not found

#31 [backend builder 6/6] RUN CGO_ENABLED=0 GOOS=linux go build -o main ./cmd/server
#31 CANCELED
------
 > [frontend runner 4/8] COPY --from=builder /app/public ./public:
------
Dockerfile:34

--------------------

  32 |     RUN adduser --system --uid 1001 nextjs

  33 |     

  34 | >>> COPY --from=builder /app/public ./public

  35 |     

  36 |     # Set the correct permission for prerender cache

--------------------

target frontend: failed to solve: failed to compute cache key: failed to calculate checksum of ref g6xu96hvph0c3sptnt8h1txu3::6ywwoaue2npbwg4f5nlmy3y7u: "/app/public": not found



View build details: docker-desktop://dashboard/build/default/default/x74bkg02sg4zq7jlrbkztl1it

