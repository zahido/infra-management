#1 [internal] load local bake definitions
#1 reading from stdin 1.09kB done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.30kB 0.0s done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.9s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [base 1/1] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
#5 resolve docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e 0.0s done
#5 DONE 0.0s

#6 [builder 1/4] WORKDIR /app
#6 CACHED

#7 [runner 2/8] RUN addgroup --system --gid 1001 nodejs
#7 CACHED

#8 [runner 3/8] RUN adduser --system --uid 1001 nextjs
#8 CACHED

#9 [internal] load build context
#9 transferring context: 817B done
#9 DONE 0.0s

#10 [deps 1/4] RUN apk add --no-cache libc6-compat
#10 CACHED

#11 [deps 2/4] WORKDIR /app
#11 CACHED

#12 [deps 3/4] COPY package.json yarn.lock* package-lock.json* pnpm-lock.yaml* ./
#12 CACHED

#13 [deps 4/4] RUN   if [ -f yarn.lock ]; then yarn --frozen-lockfile;   elif [ -f package-lock.json ]; then npm ci;   elif [ -f pnpm-lock.yaml ]; then yarn global add pnpm && pnpm i --frozen-lockfile;   else echo "Lockfile not found." && exit 1;   fi
#13 CACHED

#14 [builder 2/4] COPY --from=deps /app/node_modules ./node_modules
#14 CACHED

#15 [builder 3/4] COPY . .
#15 CACHED

#16 [builder 4/4] RUN yarn build
#16 0.431 yarn run v1.22.22
#16 0.462 $ next build
#16 1.007 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#16 1.007 This information is used to shape Next.js' roadmap and prioritize features.
#16 1.007 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#16 1.007 https://nextjs.org/telemetry
#16 1.007 
#16 1.094    Γû▓ Next.js 14.0.4
#16 1.094 
#16 1.094    Creating an optimized production build ...
#16 5.077 Failed to compile.
#16 5.077 
#16 5.077 ./src/app/dashboard/page.tsx
#16 5.077 Module not found: Can't resolve '@/components/Layout'
#16 5.077 
#16 5.077 https://nextjs.org/docs/messages/module-not-found
#16 5.077 
#16 5.077 ./src/app/dashboard/page.tsx
#16 5.077 Module not found: Can't resolve '@/lib/auth'
#16 5.077 
#16 5.077 https://nextjs.org/docs/messages/module-not-found
#16 5.077 
#16 5.077 ./src/app/dashboard/page.tsx
#16 5.077 Module not found: Can't resolve '@/lib/api'
#16 5.077 
#16 5.077 https://nextjs.org/docs/messages/module-not-found
#16 5.077 
#16 5.077 ./src/app/login/page.tsx
#16 5.077 Module not found: Can't resolve '@/lib/api'
#16 5.077 
#16 5.077 https://nextjs.org/docs/messages/module-not-found
#16 5.077 
#16 5.077 ./src/app/login/page.tsx
#16 5.077 Module not found: Can't resolve '@/lib/auth'
#16 5.077 
#16 5.077 https://nextjs.org/docs/messages/module-not-found
#16 5.077 
#16 5.078 
#16 5.078 > Build failed because of webpack errors
#16 5.109 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
#16 5.109 error Command failed with exit code 1.
#16 ERROR: process "/bin/sh -c yarn build" did not complete successfully: exit code: 1
------
 > [builder 4/4] RUN yarn build:
5.077 
5.077 ./src/app/login/page.tsx
5.077 Module not found: Can't resolve '@/lib/auth'
5.077 
5.077 https://nextjs.org/docs/messages/module-not-found
5.077 
5.078 
5.078 > Build failed because of webpack errors
5.109 info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
5.109 error Command failed with exit code 1.
------
Dockerfile:23

--------------------

  21 |     COPY . .

  22 |     

  23 | >>> RUN yarn build

  24 |     

  25 |     # Production image, copy all the files and run next

--------------------

failed to solve: process "/bin/sh -c yarn build" did not complete successfully: exit code: 1



View build details: docker-desktop://dashboard/build/default/default/ix95bp9e2dctzt07b1if71ja6

